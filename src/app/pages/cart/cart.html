<div class="cart-container container py-5" *ngIf="!showCelebration">
    <h2 class="cart-title text-center mb-5 animate-magic">Your Cart ðŸ›’</h2>
  
    <!-- If cart empty -->
    <div *ngIf="cartItems.length === 0" class="no-products text-center">
      <i class="fa-solid fa-box-open no-products-icon"></i>
      <h4 class="mt-3">Your cart is empty</h4>
      <p class="text-muted">Add some products to get started.</p>
      <button class="btn btn-animated-info mt-3" routerLink="/products">
        Browse Products
      </button>
    </div>
  
    <!-- If cart has items -->
    <div class="row g-4" *ngIf="cartItems.length > 0">
      <div
        class="col-md-6 col-lg-4"
        *ngFor="let item of cartItems; let i = index"
      >
        <div class="cart-card animate-scale">
          <!-- Product Image -->
          <div class="cart-image">
            <img
              (error)="handleImageError(item)"
              [src]="item.imageUrl || 'assets/placeholder.png'"
              alt="{{ item.productName }}"
            />
          </div>
  
          <!-- Body -->
          <div class="cart-body">
            <h5 class="cart-name">{{ item.productName }}</h5>
            <div class="cart-desc">
                <p>{{ item.productDescription }}</p>
              </div>
            <p class="cart-price">$ {{ item.price }}</p>
  
            <!-- Quantity Counter -->
            <div class="quantity-control">
              <button (click)="decreaseQuantity(item)">âž–</button>
              <span>{{ item.quantity }}</span>
              <button (click)="increaseQuantity(item)">âž•</button>
            </div>
  
            <p class="cart-item-total">
              Total: <strong>$ {{ item.itemTotal | number : '1.2-2' }}</strong>
            </p>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Cart Summary -->
    <div class="cart-summary animate-scale" *ngIf="cartItems.length > 0">
      <h4>
        Grand Total:
        <span class="text-highlight">$ {{ getCartTotal() | number : '1.2-2' }}</span>
      </h4>
      <button class="btn btn-animated-info mt-3" (click)="checkout()">Proceed to Checkout</button>
    </div>
  </div>
  

  <div class="celebration-overlay" *ngIf="showCelebration">
    <canvas id="fireworksCanvas"></canvas>
    <div class="congrats-box">
      <h2>ðŸŽ‰ Congratulations! ðŸŽ‰</h2>
      <p>Your order has been placed successfully.</p>
    </div>
  </div>
  